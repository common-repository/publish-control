/*
last processsed: 2018-01-19 @ 5:39:03 PM
copyright (c) 2018 Matthew F. Fox - https://foundry81.com 
*/
!function(t,s,i,e){"use strict";var o="f81msgBox",n={title:"Message Title",message:"This is the default message",buttons:[{value:"OK",class:"ok"}],success:function(t){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){},opacity:.5,modal:!1};function a(s){this.settings=t.extend({},n,s),this._defaults=n,this._name=o,this.isShown=!1,this.target="msgbox"+(new Date).getTime(),this.mask=this.target+"-mask",this.firstButtonId=this.target+"FirstButton",this.buttons="";var i=this;t(this.settings.buttons).each(function(t,s){var e="";s.classname&&(e=s.classname),i.buttons+='<button data-value="'+s.value+'" class="msg-button '+e+'">'+s.prefix+s.value+"</button>"}),this.msgmask='<div id="'+this.mask+'" class="f81-msgbox-mask"></div>',this.msgtitle='<div class="msgbox-title">'+this.settings.title+"</div>",this.msgmessage='<div class="msgbox-message">'+this.settings.message+"</div>",this.msgbuttons='<div class="msgbox-buttons">'+i.buttons+"</div>",t("body").append(this.msgmask+'<div id="'+this.target+'" class="f81-msgbox"><div class="messagebox-container">'+this.msgtitle+this.msgmessage+this.msgbuttons+"</div></div>"),this.divbox=t("#"+this.target),this.divboxbg=t("#"+this.mask),!0!==this.settings.modal&&this.divbox.click(function(){i.hide()}),t("button.msg-button").click(function(s){s.preventDefault();var e=t(this).attr("data-value");i.settings.success(e),i.hide()}),this.show()}t.extend(a.prototype,{init:function(){},show:function(){if(this.isShown)return!1;this.settings.beforeShow();var t=this;setTimeout(function(){t.divboxbg.addClass("active"),t.divbox.addClass("active")},100),setTimeout(this.settings.afterShow,200),this.isShown=!0},hide:function(){if(!this.isShown)return!1;this.settings.beforeClose();var t=this;setTimeout(function(){t.divboxbg.removeClass("active"),t.divbox.removeClass("active")},100);var s=this;setTimeout(function(){s.divbox.remove(),s.divboxbg.remove()},300),setTimeout(s.settings.afterClose,300),this.isShown=!1}}),t[o]=function(t){return new a(t)}}(jQuery,window,document);